# Benchmark configuration

# Dataset
TLC_BASE_URL="https://d37ci6vzurychx.cloudfront.net/trip-data"
TLC_FILE_PREFIX="fhvhv_"
START_MONTH="2024-04"   # YYYY-MM
MONTHS=3
TIME_COLUMN="pickup_datetime"
TABLE_NAME="trips"

# Query range (ISO-8601)
QUERY_START="2024-05-01T00:00:00Z"
QUERY_END="2024-05-08T00:00:00Z"
MIN_MILES=2.0

# Output
RESULTS_DIR="bench/results"
WORK_DIR="bench/work"
DATASET_DIR="bench/datasets"
LOCAL_RAW_DIR="data"

# Resource limits
CPU_LIMIT="8"
MEM_LIMIT="16g"

# CSV generation for Postgres/Timescale ingest
GENERATE_CSV=1
GENERATE_INFLUX_LP=1

# InfluxDB 3 (line protocol data)
INFLUX_DATABASE="bench"
INFLUX_LINE_PROTOCOL_DIR="bench/datasets/influx"
INFLUX_MEASUREMENT="trips"
INFLUX_WRITE_CHUNK_BYTES=40000000
INFLUXDB3_MAX_HTTP_REQUEST_SIZE=100000000
INFLUXDB3_NO_SYNC=0
INFLUX_WRITE_SLEEP_SEC=0
INFLUX_STARTUP_WAIT_SEC=5
INFLUXDB3_FORCE_SNAPSHOT_MEM_THRESHOLD="30%"
INFLUXDB3_WAL_FLUSH_INTERVAL="100ms"
INFLUXDB3_WAL_MAX_WRITE_BUFFER_SIZE=10000

# Docker images (adjust as needed)
POSTGRES_IMAGE="postgres:16"
TIMESCALE_IMAGE="timescale/timescaledb:latest-pg16"
INFLUX_IMAGE="influxdb:3-core"
SPARK_IMAGE="apache/spark:3.5.1"
TIMESERIES_TABLE_IMAGE="timeseries-table-bench:local"
QUESTDB_IMAGE="questdb/questdb:latest"
CLICKHOUSE_IMAGE="clickhouse/clickhouse-server:latest"
